{"ast":null,"code":"import { debounceTime, distinctUntilChanged } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/movie.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction MoviesComponent_button_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 48);\n    i0.ɵɵlistener(\"click\", function MoviesComponent_button_15_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.settingsView());\n    });\n    i0.ɵɵtext(1, \"Settings\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MoviesComponent_div_39_li_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 51);\n    i0.ɵɵlistener(\"click\", function MoviesComponent_div_39_li_2_Template_li_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const result_r5 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.selectResult(result_r5));\n    })(\"mouseenter\", function MoviesComponent_div_39_li_2_Template_li_mouseenter_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const i_r6 = restoredCtx.index;\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.highlightedIndex = i_r6);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const result_r5 = ctx.$implicit;\n    const i_r6 = ctx.index;\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"highlighted\", i_r6 === ctx_r4.highlightedIndex);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", result_r5.title, \" \", result_r5.year, \" \");\n  }\n}\nfunction MoviesComponent_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 49)(1, \"ul\");\n    i0.ɵɵtemplate(2, MoviesComponent_div_39_li_2_Template, 2, 4, \"li\", 50);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.searchResults.slice(0, 7));\n  }\n}\nexport class MoviesComponent {\n  constructor(movieService, cd) {\n    this.movieService = movieService;\n    this.cd = cd;\n    this.searchInput = '';\n    this.searchResults = [];\n    this.showDropdown = false;\n    this.highlightedIndex = -1;\n    this.curUser = {\n      _id: '',\n      userName: '',\n      password: '',\n      admin: false,\n      disabled: false,\n      want: [],\n      watched: []\n    };\n  }\n  ngOnInit() {\n    this.userName = \"admin\";\n    this.password = \"admin\";\n    this.loginView();\n  }\n  login() {\n    this.movieService.login(document.getElementById(\"userInput\").value, document.getElementById(\"passInput\").value).subscribe(user => {\n      if (user) {\n        //console.log(\"logged in\",user);\n        this.todoView();\n        this.curUser = user;\n        this.updateUserlist();\n        this.updateUser(this.curUser);\n      }\n    });\n  }\n  logout() {\n    //console.log(\"LOGOUT\");\n    //reset local data\n    this.curUser = {\n      _id: '',\n      userName: '',\n      password: '',\n      admin: false,\n      disabled: false,\n      want: [],\n      watched: []\n    };\n    this.loginView();\n  }\n  printmovies() {\n    console.log(\"USER MOVIES ARE\");\n    console.log(this.curUser.want);\n    console.log(this.curUser.watched);\n  }\n  addWatchlist() {\n    //console.log(\"searching for\", this.searchInput);\n    //this.printmovies();\n    this.movieService.watchlistMovie(this.searchInput).subscribe(results => {\n      this.curUser = results;\n      this.updateLists();\n    });\n  }\n  onInputChange() {\n    if (this.searchInput.length > 2) {\n      this.movieService.search(this.searchInput).pipe(debounceTime(300), distinctUntilChanged()).subscribe(results => {\n        this.searchResults = results;\n        this.showDropdown = true;\n        this.highlightedIndex = -1;\n      });\n    } else {\n      this.searchResults = [];\n      this.showDropdown = false;\n    }\n  }\n  selectResult(result) {\n    this.searchInput = result.title;\n    this.showDropdown = false;\n  }\n  onArrowDown() {\n    if (this.highlightedIndex < this.searchResults.length - 1) {\n      this.highlightedIndex++;\n    }\n  }\n  onArrowUp() {\n    if (this.highlightedIndex > 0) {\n      this.highlightedIndex--;\n    }\n  }\n  onEnter() {\n    if (this.highlightedIndex >= 0 && this.highlightedIndex < this.searchResults.length) {\n      this.selectResult(this.searchResults[this.highlightedIndex]);\n    }\n  }\n  updateLists() {\n    //reset todoTable\n    let todoTable = document.getElementById(\"todoTable\");\n    let todoBody = todoTable.querySelector('tbody');\n    while (todoBody.firstChild) {\n      todoBody?.removeChild(todoBody.firstChild);\n    }\n    //reset watchedTable\n    let watchedTable = document.getElementById('watchedTable');\n    let watchedBody = watchedTable.querySelector('tbody');\n    while (watchedBody.firstChild) {\n      watchedBody?.removeChild(watchedBody.firstChild);\n    }\n    let wantMovies = this.curUser.want;\n    let watchedMovies = this.curUser.watched;\n    //Want Table Setup\n    wantMovies.forEach(movie => {\n      let row = document.createElement('tr');\n      let c1 = row.appendChild(document.createElement('td'));\n      c1.innerHTML = movie.title; //div\n      let c2 = row.appendChild(document.createElement('td'));\n      let btn = document.createElement('button');\n      btn.type = 'button';\n      btn.className = 'btn';\n      btn.style.color = \"black\";\n      btn.style.backgroundColor = \"lightgrey\";\n      btn.style.border = \"5px black solid\";\n      btn.style.borderRadius = \"30%\";\n      btn.innerHTML = 'Add Watched';\n      btn.addEventListener('click', () => {\n        this.addWatched(movie);\n      });\n      c2.appendChild(btn); //div\n      let c3 = row.appendChild(document.createElement('td'));\n      let btn2 = document.createElement('button');\n      btn2.type = 'button';\n      btn2.className = 'btn';\n      btn2.style.color = \"black\";\n      btn2.style.backgroundColor = \"lightgrey\";\n      btn2.style.border = \"5px black solid\";\n      btn2.style.borderRadius = \"30%\";\n      btn2.addEventListener('click', () => {\n        this.seeDetails(\"want\", movie);\n      });\n      btn2.innerHTML = 'See Details';\n      c3.appendChild(btn2); //div\n      let c4 = row.appendChild(document.createElement('td'));\n      let btn3 = document.createElement('button');\n      btn3.type = 'button';\n      btn3.className = 'btn';\n      btn3.style.color = \"black\";\n      btn3.style.backgroundColor = \"lightgrey\";\n      btn3.style.border = \"5px black solid\";\n      btn3.style.borderRadius = \"30%\";\n      btn3.addEventListener('click', () => {\n        this.remove(\"want\", movie);\n      });\n      btn3.innerHTML = 'Remove';\n      c4.appendChild(btn3);\n      document.getElementById('todoTable').getElementsByTagName('tbody')[0].appendChild(row);\n    });\n    //Watched table setup\n    watchedMovies.forEach(movie => {\n      let row = document.createElement('tr');\n      let c1 = row.appendChild(document.createElement('td'));\n      c1.innerHTML = movie.title;\n      let c2 = row.appendChild(document.createElement('td'));\n      c2.innerHTML = (\"\" + movie.watchDate).substring(0, 10);\n      let c3 = row.appendChild(document.createElement('td'));\n      let btn = document.createElement('button');\n      btn.type = 'button';\n      btn.className = 'btn';\n      btn.style.color = \"black\";\n      btn.style.backgroundColor = \"lightgrey\";\n      btn.style.border = \"5px black solid\";\n      btn.style.borderRadius = \"30%\";\n      btn.addEventListener('click', () => {\n        this.rewatch(movie);\n      });\n      btn.innerHTML = \"Rewatch\";\n      c3.appendChild(btn);\n      let c4 = row.appendChild(document.createElement('td'));\n      let btn3 = document.createElement('button');\n      btn3.type = 'button';\n      btn3.className = 'btn';\n      btn3.style.color = \"black\";\n      btn3.style.backgroundColor = \"lightgrey\";\n      btn3.style.border = \"5px black solid\";\n      btn3.style.borderRadius = \"30%\";\n      btn3.addEventListener('click', () => {\n        this.seeDetails('', movie);\n      });\n      btn3.innerHTML = 'See Details';\n      c4.appendChild(btn3);\n      let c5 = row.appendChild(document.createElement('td'));\n      let btn4 = document.createElement('button');\n      btn4.type = 'button';\n      btn4.className = 'btn';\n      btn4.style.color = \"black\";\n      btn4.style.backgroundColor = \"lightgrey\";\n      btn4.style.border = \"5px black solid\";\n      btn4.style.borderRadius = \"30%\";\n      btn4.addEventListener('click', () => {\n        this.remove(\"watched\", movie);\n      });\n      btn4.innerHTML = 'Remove';\n      c5.appendChild(btn4);\n      document.getElementById('watchedTable').getElementsByTagName('tbody')[0].appendChild(row);\n    });\n  }\n  updateUserlist() {\n    this.movieService.users().subscribe(users => {\n      //console.log(\"USERLIST\",users);\n      let userTable = document.getElementById(\"settingsTable\");\n      let userBody = userTable.querySelector('tbody');\n      while (userBody.firstChild) {\n        userBody?.removeChild(userBody.firstChild);\n      }\n      users.forEach(user => {\n        let row = document.createElement('tr');\n        let c1 = row.appendChild(document.createElement('td'));\n        c1.innerHTML = \"\" + user.userName;\n        let c2 = row.appendChild(document.createElement('td'));\n        let btn = document.createElement('button');\n        btn.type = 'button';\n        btn.className = 'btn';\n        btn.style.color = \"black\";\n        btn.style.border = \"5px black solid\";\n        btn.style.borderRadius = \"30%\";\n        btn.addEventListener('click', () => {\n          this.disableUser(user);\n          if (btn.innerHTML == \"Enable\") {\n            btn.innerHTML = \"Disable\";\n            btn.style.backgroundColor = \"red\";\n          } else {\n            btn.innerHTML = \"Enable\";\n            btn.style.backgroundColor = \"lightgreen\";\n          }\n        });\n        if (user.disabled) {\n          btn.innerHTML = \"Enable\";\n          btn.style.backgroundColor = \"lightgreen\";\n        } else {\n          btn.innerHTML = \"Disable\";\n          btn.style.backgroundColor = \"red\";\n        }\n        c2.appendChild(btn);\n        document.getElementById('settingsTable').getElementsByTagName('tbody')[0].appendChild(row);\n      });\n    });\n  }\n  //Update watched time, returns user\n  rewatch(movie) {\n    //console.log(\"REWATCHING \",movie); \n    this.curUser.watched.forEach(mov => {\n      if (movie.title == mov.title) {\n        this.movieService.rewatch(mov, this.curUser).subscribe(res => {\n          this.curUser = res;\n          this.updateUser(this.curUser);\n        });\n      }\n    });\n  }\n  addWatched(movie) {\n    //console.log(\"ADDING\",movie);\n    //this.printmovies();\n    this.remove('want', movie);\n    this.curUser.watched.push(movie);\n    this.updateUser(this.curUser);\n  }\n  seeDetails(list, movie) {\n    document.getElementById('title').innerHTML = movie.title;\n    document.getElementById('description').innerHTML = movie.description;\n    document.getElementById('released').innerHTML = movie.released;\n    if (list == \"want\") {\n      document.getElementById('watched').innerHTML = \"Haven't seen this one yet!\";\n    } else {\n      document.getElementById('watched').innerHTML = (\"\" + movie.watchDate).substring(0, 10);\n    }\n    this.detailsView();\n  }\n  remove(list, movie) {\n    //console.log(\"REMOVINGFROM\"+list, movie);\n    //this.printmovies();\n    if (list == \"want\") {\n      let c = 0;\n      this.curUser.want.forEach(rmovie => {\n        if (rmovie.title == movie.title) {\n          this.curUser.want.splice(c, 1);\n        }\n        c++;\n      });\n    } else {\n      //delete a watched movie\n      let c = 0;\n      this.curUser.watched.forEach(rmovie => {\n        if (rmovie.title == movie.title) {\n          this.curUser.watched.splice(c, 1);\n        }\n        c++;\n      });\n    }\n    //console.log(\"AFTER REMOVING\");\n    //this.printmovies();\n    this.updateUser(this.curUser);\n  }\n  //returns user with ordered watched[]\n  filterBy(filter) {\n    this.movieService.sort(filter, this.curUser).subscribe(res => {\n      //console.log(\"newlyFILTERED\",res);\n      this.curUser = res;\n      this.updateLists();\n    });\n  }\n  //settings for admin\n  disableUser(user) {\n    user.disabled = !user.disabled;\n    //console.log(\"afterDISABLEUSER\",user);\n    this.updateUser(user);\n  }\n  updateUser(user) {\n    //console.log(\"UPDATINGUSER\",user );\n    this.movieService.update(user).subscribe(user => {\n      if (this.curUser._id == user._id) {\n        this.curUser = user;\n      }\n      this.cd.detectChanges();\n    });\n    this.updateLists();\n  }\n  watchedView() {\n    document.getElementById(\"nav\").style.display = \"block\";\n    document.getElementById(\"todoPage\").style.display = \"none\";\n    document.getElementById(\"watchedPage\").style.display = \"block\";\n    document.getElementById(\"loginPage\").style.display = \"none\";\n    document.getElementById(\"detailsPage\").style.display = \"none\";\n    document.getElementById(\"settingsPage\").style.display = \"none\";\n  }\n  todoView() {\n    document.getElementById(\"nav\").style.display = \"block\";\n    document.getElementById(\"todoPage\").style.display = \"block\";\n    document.getElementById(\"watchedPage\").style.display = \"none\";\n    document.getElementById(\"loginPage\").style.display = \"none\";\n    document.getElementById(\"detailsPage\").style.display = \"none\";\n    document.getElementById(\"settingsPage\").style.display = \"none\";\n  }\n  loginView() {\n    document.getElementById(\"nav\").style.display = \"none\";\n    document.getElementById(\"todoPage\").style.display = \"none\";\n    document.getElementById(\"watchedPage\").style.display = \"none\";\n    document.getElementById(\"loginPage\").style.display = \"block\";\n    document.getElementById(\"detailsPage\").style.display = \"none\";\n    document.getElementById(\"settingsPage\").style.display = \"none\";\n  }\n  detailsView() {\n    document.getElementById(\"nav\").style.display = \"block\";\n    document.getElementById(\"todoPage\").style.display = \"none\";\n    document.getElementById(\"watchedPage\").style.display = \"none\";\n    document.getElementById(\"loginPage\").style.display = \"none\";\n    document.getElementById(\"detailsPage\").style.display = \"block\";\n    document.getElementById(\"settingsPage\").style.display = \"none\";\n  }\n  settingsView() {\n    document.getElementById(\"nav\").style.display = \"block\";\n    document.getElementById(\"todoPage\").style.display = \"none\";\n    document.getElementById(\"watchedPage\").style.display = \"none\";\n    document.getElementById(\"loginPage\").style.display = \"none\";\n    document.getElementById(\"detailsPage\").style.display = \"none\";\n    document.getElementById(\"settingsPage\").style.display = \"block\";\n  }\n}\nMoviesComponent.ɵfac = function MoviesComponent_Factory(t) {\n  return new (t || MoviesComponent)(i0.ɵɵdirectiveInject(i1.MovieService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n};\nMoviesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MoviesComponent,\n  selectors: [[\"app-movies\"]],\n  inputs: {\n    userName: \"userName\",\n    password: \"password\"\n  },\n  decls: 97,\n  vars: 5,\n  consts: [[\"id\", \"nav\", 1, \"navbar\", \"navbar-expand-lg\", \"navbar-dark\", \"bg-dark\", 2, \"margin-bottom\", \"11px\"], [1, \"container-fluid\"], [\"href\", \"#\", 1, \"navbar-brand\"], [\"id\", \"profile\", 1, \"collapse\", \"navbar-collapse\"], [1, \"navbar-nav\", 2, \"position\", \"absolute\", \"top\", \"5px\", \"left\", \"150px\", \"margin-right\", \"4em\"], [1, \"nav-item\"], [\"id\", \"todoBtn\", \"type\", \"button\", 1, \"btn\", \"mb-3\", \"btn-secondary\", 3, \"click\"], [\"id\", \"watchedBtn\", \"type\", \"button\", 1, \"btn\", \"mb-3\", \"btn-secondary\", 3, \"click\"], [1, \"navbar-nav\", 2, \"position\", \"absolute\", \"top\", \"5px\", \"right\", \"0\", \"margin-right\", \"4em\"], [\"id\", \"settingsBtn\", \"type\", \"button\", \"class\", \"btn mb-3 btn-secondary\", 3, \"click\", 4, \"ngIf\"], [\"id\", \"logoutBtn\", \"type\", \"button\", 1, \"btn\", \"mb-3\", \"btn-secondary\", 3, \"click\"], [\"id\", \"loginPage\", 1, \"\"], [1, \"form-group\", \"mb-2\"], [\"for\", \"lg_userName\", 1, \"sr-only\"], [\"id\", \"userInput\", \"type\", \"text\", \"name\", \"userName\", \"placeholder\", \"userName\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"lg_password\", 1, \"sr-only\"], [\"id\", \"passInput\", \"type\", \"password\", \"name\", \"password\", \"placeholder\", \"password\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-sm\", 3, \"click\"], [1, \"glyphicon\", \"glyphicon-chevron-right\"], [\"id\", \"todoPage\"], [\"id\", \"searchbar\", 1, \"search-container\"], [\"type\", \"text\", \"placeholder\", \"Search movies...\", 3, \"ngModel\", \"ngModelChange\", \"input\", \"keyup.enter\", \"keyup.arrowDown\", \"keyup.arrowUp\"], [\"id\", \"addBtn\", 3, \"click\"], [\"class\", \"dropdown\", 4, \"ngIf\"], [\"id\", \"todoTable\", 1, \"table\", \"table-striped\"], [\"colspan\", \"4\", 2, \"text-align\", \"center\", \"font-size\", \"xx-large\"], [1, \"table-active\"], [\"scope\", \"col\"], [\"id\", \"todoRows\"], [\"id\", \"watchedPage\"], [\"id\", \"watchedTable\", 1, \"table\", \"table-striped\"], [\"colspan\", \"5\", 2, \"text-align\", \"center\", \"font-size\", \"xx-large\"], [\"id\", \"watchedRows\"], [\"id\", \"sortBox\"], [\"id\", \"titlesortBtn\", \"type\", \"button\", 1, \"sortBtn\", 3, \"click\"], [\"id\", \"datesortBtn\", \"type\", \"button\", 1, \"sortBtn\", 3, \"click\"], [\"id\", \"detailsPage\"], [1, \"titleBox\"], [\"id\", \"title\"], [1, \"descriptionBox\"], [\"id\", \"description\"], [\"id\", \"releasedBox\"], [\"id\", \"released\"], [\"id\", \"watchedBox\"], [\"id\", \"watched\"], [\"id\", \"settingsPage\"], [\"id\", \"settingsTable\", 1, \"table\", \"table-striped\"], [\"id\", \"settingsRows\"], [\"id\", \"settingsBtn\", \"type\", \"button\", 1, \"btn\", \"mb-3\", \"btn-secondary\", 3, \"click\"], [1, \"dropdown\"], [3, \"highlighted\", \"click\", \"mouseenter\", 4, \"ngFor\", \"ngForOf\"], [3, \"click\", \"mouseenter\"]],\n  template: function MoviesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"body\")(1, \"nav\", 0)(2, \"div\", 1)(3, \"a\", 2);\n      i0.ɵɵtext(4, \"MovieList\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 3)(6, \"ul\", 4)(7, \"li\", 5)(8, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function MoviesComponent_Template_button_click_8_listener() {\n        return ctx.todoView();\n      });\n      i0.ɵɵtext(9, \"Want to Watch\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"li\", 5)(11, \"button\", 7);\n      i0.ɵɵlistener(\"click\", function MoviesComponent_Template_button_click_11_listener() {\n        return ctx.watchedView();\n      });\n      i0.ɵɵtext(12, \"Already Watched\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(13, \"ul\", 8)(14, \"li\", 5);\n      i0.ɵɵtemplate(15, MoviesComponent_button_15_Template, 2, 0, \"button\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"li\", 5)(17, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function MoviesComponent_Template_button_click_17_listener() {\n        return ctx.logout();\n      });\n      i0.ɵɵtext(18, \"Logout\");\n      i0.ɵɵelementEnd()()()()()();\n      i0.ɵɵelementStart(19, \"form\", 11)(20, \"h3\");\n      i0.ɵɵtext(21, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\")(23, \"div\", 12)(24, \"label\", 13);\n      i0.ɵɵtext(25, \"Username\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"input\", 14);\n      i0.ɵɵlistener(\"ngModelChange\", function MoviesComponent_Template_input_ngModelChange_26_listener($event) {\n        return ctx.userName = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(27, \"div\", 12)(28, \"label\", 15);\n      i0.ɵɵtext(29, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"input\", 16);\n      i0.ɵɵlistener(\"ngModelChange\", function MoviesComponent_Template_input_ngModelChange_30_listener($event) {\n        return ctx.password = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(31, \"button\", 17);\n      i0.ɵɵlistener(\"click\", function MoviesComponent_Template_button_click_31_listener() {\n        return ctx.login();\n      });\n      i0.ɵɵtext(32, \"Login \");\n      i0.ɵɵelement(33, \"i\", 18);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(34, \"div\", 19)(35, \"div\", 20)(36, \"input\", 21);\n      i0.ɵɵlistener(\"ngModelChange\", function MoviesComponent_Template_input_ngModelChange_36_listener($event) {\n        return ctx.searchInput = $event;\n      })(\"input\", function MoviesComponent_Template_input_input_36_listener() {\n        return ctx.onInputChange();\n      })(\"keyup.enter\", function MoviesComponent_Template_input_keyup_enter_36_listener() {\n        return ctx.onEnter();\n      })(\"keyup.arrowDown\", function MoviesComponent_Template_input_keyup_arrowDown_36_listener() {\n        return ctx.onArrowDown();\n      })(\"keyup.arrowUp\", function MoviesComponent_Template_input_keyup_arrowUp_36_listener() {\n        return ctx.onArrowUp();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"button\", 22);\n      i0.ɵɵlistener(\"click\", function MoviesComponent_Template_button_click_37_listener() {\n        return ctx.addWatchlist();\n      });\n      i0.ɵɵtext(38, \"Add Movie\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(39, MoviesComponent_div_39_Template, 3, 1, \"div\", 23);\n      i0.ɵɵelementStart(40, \"table\", 24)(41, \"thead\")(42, \"tr\")(43, \"th\", 25);\n      i0.ɵɵtext(44, \"Want to Watch List\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(45, \"tr\", 26)(46, \"th\", 27);\n      i0.ɵɵtext(47, \"Title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(48, \"th\", 27)(49, \"th\", 27)(50, \"th\", 27);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(51, \"tbody\", 28);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(52, \"div\", 29)(53, \"table\", 30)(54, \"thead\")(55, \"tr\")(56, \"th\", 31);\n      i0.ɵɵtext(57, \"Already Watched List\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(58, \"tr\", 26)(59, \"th\", 27);\n      i0.ɵɵtext(60, \"Title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(61, \"th\", 27);\n      i0.ɵɵtext(62, \"Date Seen\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(63, \"th\", 27)(64, \"th\", 27)(65, \"th\", 27);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(66, \"tbody\", 32);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(67, \"div\", 33)(68, \"p\");\n      i0.ɵɵtext(69, \"Sort By: \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(70, \"button\", 34);\n      i0.ɵɵlistener(\"click\", function MoviesComponent_Template_button_click_70_listener() {\n        return ctx.filterBy(\"title\");\n      });\n      i0.ɵɵtext(71, \"Title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(72, \"button\", 35);\n      i0.ɵɵlistener(\"click\", function MoviesComponent_Template_button_click_72_listener() {\n        return ctx.filterBy(\"date\");\n      });\n      i0.ɵɵtext(73, \"Date\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(74, \"div\", 36)(75, \"div\", 37)(76, \"h2\", 38);\n      i0.ɵɵtext(77, \"Title Box\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(78, \"div\", 39);\n      i0.ɵɵelement(79, \"h5\", 40);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(80, \"div\", 41)(81, \"H4\");\n      i0.ɵɵtext(82, \"Released on\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(83, \"h5\", 42);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(84, \"div\", 43)(85, \"h4\");\n      i0.ɵɵtext(86, \"Watched on\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(87, \"h5\", 44);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(88, \"div\", 45)(89, \"table\", 46)(90, \"thead\")(91, \"tr\", 26)(92, \"th\", 27);\n      i0.ɵɵtext(93, \"Username\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(94, \"th\", 27);\n      i0.ɵɵtext(95, \"Enable/Disable\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(96, \"tbody\", 47);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"ngIf\", ctx.curUser.admin);\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"ngModel\", ctx.userName);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.password);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.searchInput);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.showDropdown);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm],\n  styles: [\"#detailsPage[_ngcontent-%COMP%]{\\r\\n    display: flex;\\r\\n    flex-wrap: nowrap;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n    height: 100vh;\\r\\n}\\r\\nbody[_ngcontent-%COMP%]{\\r\\n    background-image:url('background.jpg');\\r\\n    background-size: cover;\\r\\n    height: 100vh;\\r\\n    width: 100vw;\\r\\n}\\r\\n\\r\\n#sortBox[_ngcontent-%COMP%]{\\r\\n    display: flex;\\r\\n    flex-wrap: nowrap;\\r\\n    margin: 10px;\\r\\n}\\r\\n.sortBtn[_ngcontent-%COMP%]{\\r\\n    margin-left: 15px;\\r\\n    border-radius: 20%;\\r\\n    background-color: lightgrey;\\r\\n}\\r\\n\\r\\n#searchbar[_ngcontent-%COMP%]{\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n    width: 100%;\\r\\n    font-size: x-large;\\r\\n}\\r\\n .search-container[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    width: 75%;\\r\\n    max-width: 900px;\\r\\n    margin: 20px;\\r\\n  }\\r\\n  input[_ngcontent-%COMP%] {\\r\\n      flex: 1;\\r\\n      padding: 10px;\\r\\n      font-size: 16px;\\r\\n      border: 1px solid #ccc;\\r\\n      border-right: none;\\r\\n      border-radius: 5px 0 0 5px;\\r\\n      outline: none;\\r\\n    }\\r\\n\\r\\n.dropdown[_ngcontent-%COMP%] {\\r\\n    position: absolute;\\r\\n    width: 75%;\\r\\n    border: 1px solid #ccc;\\r\\n    background-color: white;\\r\\n    max-height: 200px;\\r\\n    overflow-y: auto;\\r\\n    z-index: 1000;\\r\\n  }\\r\\n \\r\\n  \\r\\n  #addBtn[_ngcontent-%COMP%] {\\r\\n    margin-top: 8px;\\r\\n    padding: 8px 16px;\\r\\n    cursor: pointer;\\r\\n  }\\r\\n  ul[_ngcontent-%COMP%] {\\r\\n    list-style-type: none;\\r\\n    padding: 0;\\r\\n    margin: 0;\\r\\n  }\\r\\n  li[_ngcontent-%COMP%] {\\r\\n    padding: 8px;\\r\\n    cursor: pointer;\\r\\n  }\\r\\n  li.highlighted[_ngcontent-%COMP%] {\\r\\n    background-color: #f0f0f0;\\r\\n  }\\r\\n\\r\\n\\r\\n.titleBox[_ngcontent-%COMP%] {\\r\\n    text-align: center;\\r\\n    background-color: #f5f5f5;\\r\\n    padding: 20px;\\r\\n    border: 2px solid #ddd;\\r\\n    border-radius: 5px;\\r\\n    margin-bottom: 20px;\\r\\n    margin-left: 2%;\\r\\n    margin-right: 2%;\\r\\n    font-size: larger;\\r\\n}\\r\\n.descriptionBox[_ngcontent-%COMP%] {\\r\\n    text-align: center;\\r\\n    background-color: #f5f5f5;\\r\\n    padding: 20px;\\r\\n    border: 2px solid #ddd;\\r\\n    border-radius: 5px;\\r\\n    margin-bottom: 20px;\\r\\n    margin-left: 2%;\\r\\n    margin-right: 2%;\\r\\n}\\r\\n#releasedBox[_ngcontent-%COMP%]{\\r\\n    width: 46%;\\r\\n    text-align: center;\\r\\n    background-color: #f5f5f5;\\r\\n    padding: 20px;\\r\\n    border: 2px solid #ddd;\\r\\n    border-radius: 5px;\\r\\n    margin-left: 2%;\\r\\n    float: left;\\r\\n}\\r\\n#watchedBox[_ngcontent-%COMP%]{\\r\\n    width: 46%;\\r\\n    text-align: center;\\r\\n    background-color: #f5f5f5;\\r\\n    padding: 20px;\\r\\n    border: 2px solid #ddd;\\r\\n    border-radius: 5px;\\r\\n    margin-right: 2%;\\r\\n    float: right;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbW92aWVzL21vdmllcy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksYUFBYTtJQUNiLGlCQUFpQjtJQUNqQix1QkFBdUI7SUFDdkIsbUJBQW1CO0lBQ25CLGFBQWE7QUFDakI7QUFDQTtJQUNJLHNDQUFvRDtJQUNwRCxzQkFBc0I7SUFDdEIsYUFBYTtJQUNiLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsaUJBQWlCO0lBQ2pCLFlBQVk7QUFDaEI7QUFDQTtJQUNJLGlCQUFpQjtJQUNqQixrQkFBa0I7SUFDbEIsMkJBQTJCO0FBQy9COztBQUVBO0lBQ0ksYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixtQkFBbUI7SUFDbkIsV0FBVztJQUNYLGtCQUFrQjtBQUN0QjtDQUNDO0lBQ0csYUFBYTtJQUNiLG1CQUFtQjtJQUNuQixVQUFVO0lBQ1YsZ0JBQWdCO0lBQ2hCLFlBQVk7RUFDZDtFQUNBO01BQ0ksT0FBTztNQUNQLGFBQWE7TUFDYixlQUFlO01BQ2Ysc0JBQXNCO01BQ3RCLGtCQUFrQjtNQUNsQiwwQkFBMEI7TUFDMUIsYUFBYTtJQUNmOztBQUVKO0lBQ0ksa0JBQWtCO0lBQ2xCLFVBQVU7SUFDVixzQkFBc0I7SUFDdEIsdUJBQXVCO0lBQ3ZCLGlCQUFpQjtJQUNqQixnQkFBZ0I7SUFDaEIsYUFBYTtFQUNmOzs7RUFHQTtJQUNFLGVBQWU7SUFDZixpQkFBaUI7SUFDakIsZUFBZTtFQUNqQjtFQUNBO0lBQ0UscUJBQXFCO0lBQ3JCLFVBQVU7SUFDVixTQUFTO0VBQ1g7RUFDQTtJQUNFLFlBQVk7SUFDWixlQUFlO0VBQ2pCO0VBQ0E7SUFDRSx5QkFBeUI7RUFDM0I7OztBQUdGO0lBQ0ksa0JBQWtCO0lBQ2xCLHlCQUF5QjtJQUN6QixhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLGtCQUFrQjtJQUNsQixtQkFBbUI7SUFDbkIsZUFBZTtJQUNmLGdCQUFnQjtJQUNoQixpQkFBaUI7QUFDckI7QUFDQTtJQUNJLGtCQUFrQjtJQUNsQix5QkFBeUI7SUFDekIsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixrQkFBa0I7SUFDbEIsbUJBQW1CO0lBQ25CLGVBQWU7SUFDZixnQkFBZ0I7QUFDcEI7QUFDQTtJQUNJLFVBQVU7SUFDVixrQkFBa0I7SUFDbEIseUJBQXlCO0lBQ3pCLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixXQUFXO0FBQ2Y7QUFDQTtJQUNJLFVBQVU7SUFDVixrQkFBa0I7SUFDbEIseUJBQXlCO0lBQ3pCLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsa0JBQWtCO0lBQ2xCLGdCQUFnQjtJQUNoQixZQUFZO0FBQ2hCIiwic291cmNlc0NvbnRlbnQiOlsiI2RldGFpbHNQYWdle1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtd3JhcDogbm93cmFwO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgaGVpZ2h0OiAxMDB2aDtcclxufVxyXG5ib2R5e1xyXG4gICAgYmFja2dyb3VuZC1pbWFnZTp1cmwoJy4uLy4uL2Fzc2V0cy9iYWNrZ3JvdW5kLmpwZycpIDtcclxuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XHJcbiAgICBoZWlnaHQ6IDEwMHZoO1xyXG4gICAgd2lkdGg6IDEwMHZ3O1xyXG59XHJcblxyXG4jc29ydEJveHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LXdyYXA6IG5vd3JhcDtcclxuICAgIG1hcmdpbjogMTBweDtcclxufVxyXG4uc29ydEJ0bntcclxuICAgIG1hcmdpbi1sZWZ0OiAxNXB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMjAlO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRncmV5O1xyXG59XHJcblxyXG4jc2VhcmNoYmFye1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgZm9udC1zaXplOiB4LWxhcmdlO1xyXG59XHJcbiAuc2VhcmNoLWNvbnRhaW5lciB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIHdpZHRoOiA3NSU7XHJcbiAgICBtYXgtd2lkdGg6IDkwMHB4O1xyXG4gICAgbWFyZ2luOiAyMHB4O1xyXG4gIH1cclxuICBpbnB1dCB7XHJcbiAgICAgIGZsZXg6IDE7XHJcbiAgICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxuICAgICAgYm9yZGVyLXJpZ2h0OiBub25lO1xyXG4gICAgICBib3JkZXItcmFkaXVzOiA1cHggMCAwIDVweDtcclxuICAgICAgb3V0bGluZTogbm9uZTtcclxuICAgIH1cclxuXHJcbi5kcm9wZG93biB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB3aWR0aDogNzUlO1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgbWF4LWhlaWdodDogMjAwcHg7XHJcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xyXG4gICAgei1pbmRleDogMTAwMDtcclxuICB9XHJcbiBcclxuICBcclxuICAjYWRkQnRuIHtcclxuICAgIG1hcmdpbi10b3A6IDhweDtcclxuICAgIHBhZGRpbmc6IDhweCAxNnB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIH1cclxuICB1bCB7XHJcbiAgICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XHJcbiAgICBwYWRkaW5nOiAwO1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gIH1cclxuICBsaSB7XHJcbiAgICBwYWRkaW5nOiA4cHg7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgfVxyXG4gIGxpLmhpZ2hsaWdodGVkIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmMGYwZjA7XHJcbiAgfVxyXG5cclxuXHJcbi50aXRsZUJveCB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNWY1O1xyXG4gICAgcGFkZGluZzogMjBweDtcclxuICAgIGJvcmRlcjogMnB4IHNvbGlkICNkZGQ7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDIlO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAyJTtcclxuICAgIGZvbnQtc2l6ZTogbGFyZ2VyO1xyXG59XHJcbi5kZXNjcmlwdGlvbkJveCB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNWY1O1xyXG4gICAgcGFkZGluZzogMjBweDtcclxuICAgIGJvcmRlcjogMnB4IHNvbGlkICNkZGQ7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDIlO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAyJTtcclxufVxyXG4jcmVsZWFzZWRCb3h7XHJcbiAgICB3aWR0aDogNDYlO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjVmNTtcclxuICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICBib3JkZXI6IDJweCBzb2xpZCAjZGRkO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDIlO1xyXG4gICAgZmxvYXQ6IGxlZnQ7XHJcbn1cclxuI3dhdGNoZWRCb3h7XHJcbiAgICB3aWR0aDogNDYlO1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjVmNTtcclxuICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICBib3JkZXI6IDJweCBzb2xpZCAjZGRkO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAyJTtcclxuICAgIGZsb2F0OiByaWdodDtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["debounceTime","distinctUntilChanged","i0","MoviesComponent","constructor","movieService","cd","_id","userName","password","admin","disabled","want","watched","ngOnInit","loginView","login","document","getElementById","value","subscribe","user","todoView","curUser","updateUserlist","updateUser","logout","printmovies","console","log","addWatchlist","watchlistMovie","searchInput","results","updateLists","onInputChange","length","search","pipe","searchResults","showDropdown","highlightedIndex","selectResult","result","title","onArrowDown","onArrowUp","onEnter","todoTable","todoBody","querySelector","firstChild","removeChild","watchedTable","watchedBody","wantMovies","watchedMovies","forEach","movie","row","createElement","c1","appendChild","innerHTML","c2","btn","type","className","style","color","backgroundColor","border","borderRadius","addEventListener","addWatched","c3","btn2","seeDetails","c4","btn3","remove","getElementsByTagName","watchDate","substring","rewatch","c5","btn4","users","userTable","userBody","disableUser","mov","res","push","list","description","released","detailsView","c","rmovie","splice","filterBy","filter","sort","update","detectChanges","watchedView","display","settingsView","selectors","inputs","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["E:\\Code Things\\VSCode Files\\Watchlist-Website\\client\\src\\app\\movies\\movies.component.ts","E:\\Code Things\\VSCode Files\\Watchlist-Website\\client\\src\\app\\movies\\movies.component.html"],"sourcesContent":["import { Component, OnInit, Input , ChangeDetectorRef } from '@angular/core';\r\nimport  {debounceTime, distinctUntilChanged, switchMap} from 'rxjs/operators';\r\nimport { movie } from '../models/movie';\r\nimport { user } from '../models/user';\r\n\r\nimport { MovieService } from '../services/movie.service';\r\n\r\n@Component({\r\n  selector: 'app-movies',\r\n  templateUrl: './movies.component.html',\r\n  styleUrls: ['./movies.component.css']\r\n})\r\nexport class MoviesComponent implements OnInit{\r\n\r\n  @Input() userName? : string;\r\n  @Input() password? : string;\r\n\r\n  searchInput: string = '';\r\n  searchResults: any[] = [];\r\n  showDropdown: boolean = false;\r\n  highlightedIndex: number = -1;\r\n\r\n  constructor(\r\n    private movieService : MovieService,\r\n    private cd: ChangeDetectorRef\r\n  ){}\r\n  \r\n  public curUser:  user = {\r\n    _id: '',\r\n    userName: '',\r\n    password: '',\r\n    admin: false,\r\n    disabled: false,\r\n    want: [],\r\n    watched: []\r\n  };\r\n\r\n  ngOnInit(): void {\r\n      this.userName = \"admin\";\r\n      this.password = \"admin\";\r\n      this.loginView();\r\n  }\r\n  login() {\r\n    this.movieService.login((<HTMLInputElement>document.getElementById(\"userInput\")).value, (<HTMLInputElement>document.getElementById(\"passInput\")).value).subscribe(user =>{\r\n      if(user){\r\n        //console.log(\"logged in\",user);\r\n        this.todoView();\r\n        this.curUser = user;\r\n        this.updateUserlist();\r\n        this.updateUser(this.curUser)\r\n      }\r\n    });\r\n  }\r\n\r\n  logout(){\r\n    //console.log(\"LOGOUT\");\r\n    //reset local data\r\n    this.curUser = {\r\n      _id: '',\r\n      userName: '',\r\n      password: '',\r\n      admin: false,\r\n      disabled: false,\r\n      want: [],\r\n      watched: []\r\n    };\r\n    this.loginView();\r\n  }\r\n\r\n  printmovies(){\r\n    console.log(\"USER MOVIES ARE\");\r\n    console.log(this.curUser.want);\r\n    console.log(this.curUser.watched);\r\n  }\r\n\r\n  addWatchlist(){//movie is added to wants in server, user returned\r\n    //console.log(\"searching for\", this.searchInput);\r\n    //this.printmovies();\r\n\r\n    this.movieService.watchlistMovie(this.searchInput).subscribe(results => {\r\n      this.curUser = results;\r\n      this.updateLists();\r\n    });\r\n  }\r\n\r\n  onInputChange(){\r\n    if(this.searchInput.length > 2){\r\n      this.movieService.search(this.searchInput)\r\n        .pipe(debounceTime(300), distinctUntilChanged())\r\n        .subscribe(results =>{\r\n          \r\n          this.searchResults = results;\r\n          this.showDropdown = true;\r\n          this.highlightedIndex = -1;\r\n        })\r\n    }else{\r\n      this.searchResults = [];\r\n      this.showDropdown = false;\r\n    }\r\n  }\r\n\r\n  selectResult(result: any){\r\n    this.searchInput = result.title;\r\n    this.showDropdown = false;\r\n  }\r\n\r\n  onArrowDown(){\r\n    if(this.highlightedIndex < this.searchResults.length -1){\r\n      this.highlightedIndex++;\r\n    }\r\n  }\r\n\r\n  onArrowUp(){\r\n    if(this.highlightedIndex > 0){\r\n      this.highlightedIndex--;\r\n    }\r\n  }\r\n\r\n  onEnter(){\r\n    if(this.highlightedIndex >= 0 && this.highlightedIndex < this.searchResults.length){\r\n      this.selectResult(this.searchResults[this.highlightedIndex]);\r\n    }\r\n  }\r\n\r\n\r\n  updateLists(){\r\n    //reset todoTable\r\n    let todoTable = document.getElementById(\"todoTable\") as HTMLTableElement;\r\n    let todoBody = todoTable.querySelector('tbody');\r\n    while(todoBody!.firstChild){\r\n      todoBody?.removeChild(todoBody.firstChild);\r\n    }\r\n    //reset watchedTable\r\n    let watchedTable = document.getElementById('watchedTable') as HTMLTableElement;\r\n    let watchedBody = watchedTable.querySelector('tbody');\r\n    while(watchedBody!.firstChild){\r\n      watchedBody?.removeChild(watchedBody.firstChild);\r\n    }\r\n    let wantMovies = this.curUser.want;\r\n    let watchedMovies = this.curUser.watched;\r\n    //Want Table Setup\r\n    wantMovies.forEach(movie =>{\r\n      let row = document.createElement('tr')\r\n      let c1 = row.appendChild(document.createElement('td'));\r\n      c1.innerHTML = movie.title;//div\r\n      let c2 = row.appendChild(document.createElement('td'));\r\n      let btn = document.createElement('button');\r\n      btn.type = 'button';\r\n      btn.className = 'btn';\r\n      btn.style.color = \"black\";\r\n      btn.style.backgroundColor = \"lightgrey\"\r\n      btn.style.border = \"5px black solid\"\r\n      btn.style.borderRadius = \"30%\";\r\n      btn.innerHTML = 'Add Watched'\r\n      btn.addEventListener('click', ()=>{\r\n        this.addWatched(movie);\r\n      })\r\n      c2.appendChild(btn);//div\r\n      let c3 = row.appendChild(document.createElement('td'));\r\n      let btn2 = document.createElement('button');\r\n      btn2.type = 'button';\r\n      btn2.className = 'btn';\r\n      btn2.style.color = \"black\";\r\n      btn2.style.backgroundColor = \"lightgrey\"\r\n      btn2.style.border = \"5px black solid\"\r\n      btn2.style.borderRadius = \"30%\";\r\n      btn2.addEventListener('click', () =>{\r\n        this.seeDetails(\"want\",movie);\r\n      })\r\n      btn2.innerHTML = 'See Details';\r\n      c3.appendChild(btn2);//div\r\n      let c4 = row.appendChild(document.createElement('td'));\r\n      let btn3 = document.createElement('button');\r\n      btn3.type = 'button';\r\n      btn3.className = 'btn';\r\n      btn3.style.color = \"black\";\r\n      btn3.style.backgroundColor = \"lightgrey\"\r\n      btn3.style.border = \"5px black solid\"\r\n      btn3.style.borderRadius = \"30%\";\r\n      btn3.addEventListener('click', ()=>{\r\n        this.remove(\"want\", movie);\r\n      })\r\n      btn3.innerHTML = 'Remove';\r\n      c4.appendChild(btn3);\r\n      document.getElementById('todoTable')!.getElementsByTagName('tbody')[0].appendChild(row);\r\n    })\r\n    //Watched table setup\r\n    watchedMovies.forEach(movie =>{\r\n      let row = document.createElement('tr')\r\n      let c1 = row.appendChild(document.createElement('td'));\r\n      c1.innerHTML = movie.title;\r\n      let c2 = row.appendChild(document.createElement('td'));\r\n      c2.innerHTML = (\"\"+movie.watchDate).substring(0,10);\r\n      let c3 = row.appendChild(document.createElement('td'));\r\n      let btn = document.createElement('button');\r\n      btn.type = 'button';\r\n      btn.className = 'btn';\r\n      btn.style.color = \"black\";\r\n      btn.style.backgroundColor = \"lightgrey\"\r\n      btn.style.border = \"5px black solid\"\r\n      btn.style.borderRadius = \"30%\";\r\n      btn.addEventListener('click', ()=>{\r\n        this.rewatch(movie);\r\n      })\r\n      btn.innerHTML = \"Rewatch\";\r\n      c3.appendChild(btn);\r\n      let c4 = row.appendChild(document.createElement('td'));\r\n      let btn3 = document.createElement('button');\r\n      btn3.type = 'button';\r\n      btn3.className = 'btn';\r\n      btn3.style.color = \"black\";\r\n      btn3.style.backgroundColor = \"lightgrey\"\r\n      btn3.style.border = \"5px black solid\"\r\n      btn3.style.borderRadius = \"30%\";\r\n      btn3.addEventListener('click', () =>{\r\n        this.seeDetails('',movie);\r\n      })\r\n      btn3.innerHTML = 'See Details';\r\n      c4.appendChild(btn3);\r\n      let c5 = row.appendChild(document.createElement('td'));\r\n      let btn4 = document.createElement('button');\r\n      btn4.type = 'button';\r\n      btn4.className = 'btn';\r\n      btn4.style.color = \"black\";\r\n      btn4.style.backgroundColor = \"lightgrey\"\r\n      btn4.style.border = \"5px black solid\"\r\n      btn4.style.borderRadius = \"30%\";\r\n      btn4.addEventListener('click', ()=>{\r\n        this.remove(\"watched\", movie);\r\n      })\r\n      btn4.innerHTML = 'Remove';\r\n      c5.appendChild(btn4);\r\n      document.getElementById('watchedTable')!.getElementsByTagName('tbody')[0].appendChild(row);\r\n    })\r\n  }\r\n\r\n  updateUserlist(){\r\n    this.movieService.users().subscribe(users=>{\r\n      //console.log(\"USERLIST\",users);\r\n      let userTable = document.getElementById(\"settingsTable\") as HTMLTableElement;\r\n      let userBody = userTable.querySelector('tbody');\r\n      while(userBody!.firstChild){\r\n        userBody?.removeChild(userBody.firstChild);\r\n      }\r\n\r\n      users.forEach(user =>{\r\n        let row = document.createElement('tr')\r\n        let c1 = row.appendChild(document.createElement('td'));\r\n        c1.innerHTML = \"\"+user.userName;\r\n        let c2 = row.appendChild(document.createElement('td'));\r\n        let btn = document.createElement('button');\r\n        btn.type = 'button';\r\n        btn.className = 'btn';\r\n        btn.style.color = \"black\";\r\n        btn.style.border = \"5px black solid\"\r\n        btn.style.borderRadius = \"30%\";\r\n        btn.addEventListener('click', ()=>{\r\n          this.disableUser(user);\r\n          if(btn.innerHTML == \"Enable\"){\r\n            btn.innerHTML = \"Disable\";\r\n            btn.style.backgroundColor = \"red\";\r\n          }else{\r\n            btn.innerHTML = \"Enable\";\r\n            btn.style.backgroundColor = \"lightgreen\";\r\n          }\r\n        })\r\n        if(user.disabled){\r\n          btn.innerHTML = \"Enable\";\r\n          btn.style.backgroundColor = \"lightgreen\";\r\n        }else{\r\n          btn.innerHTML = \"Disable\";\r\n          btn.style.backgroundColor = \"red\";\r\n        }\r\n        c2.appendChild(btn);\r\n        document.getElementById('settingsTable')!.getElementsByTagName('tbody')[0].appendChild(row);\r\n      })\r\n    })\r\n  }\r\n  //Update watched time, returns user\r\n  rewatch(movie : movie){ \r\n    //console.log(\"REWATCHING \",movie); \r\n    this.curUser.watched.forEach(mov =>{\r\n      if(movie.title == mov.title){\r\n          this.movieService.rewatch(mov,this.curUser).subscribe((res)=>{\r\n          this.curUser = res;\r\n          this.updateUser(this.curUser);\r\n        });\r\n      }\r\n    });\r\n  }\r\n  addWatched(movie : movie){\r\n    //console.log(\"ADDING\",movie);\r\n    //this.printmovies();\r\n    this.remove('want',movie);\r\n    this.curUser.watched.push(movie);\r\n    this.updateUser(this.curUser);\r\n  }\r\n  seeDetails(list:string, movie : movie){\r\n    document.getElementById('title')!.innerHTML = movie.title;\r\n    document.getElementById('description')!.innerHTML = movie.description;\r\n    document.getElementById('released')!.innerHTML = movie.released;\r\n    if(list == \"want\"){\r\n      document.getElementById('watched')!.innerHTML = \"Haven't seen this one yet!\";\r\n    }else{\r\n      document.getElementById('watched')!.innerHTML = (\"\"+movie.watchDate).substring(0,10);\r\n    } \r\n    this.detailsView();\r\n  }\r\n  remove(list : string, movie : movie){//list is either want or watched\r\n    //console.log(\"REMOVINGFROM\"+list, movie);\r\n    //this.printmovies();\r\n    if(list == \"want\"){\r\n      let c=0;\r\n      this.curUser.want.forEach(rmovie =>{\r\n        if(rmovie.title == movie.title){\r\n          this.curUser.want.splice(c,1)\r\n        }\r\n        c++;\r\n      })\r\n    }else{//delete a watched movie\r\n      let c=0;\r\n      this.curUser.watched.forEach(rmovie =>{\r\n        if(rmovie.title == movie.title){\r\n          this.curUser.watched.splice(c,1)\r\n        }\r\n        c++;\r\n      })\r\n    }\r\n    //console.log(\"AFTER REMOVING\");\r\n    //this.printmovies();\r\n    this.updateUser(this.curUser);\r\n  }\r\n  //returns user with ordered watched[]\r\n  filterBy(filter:string){//watched page\r\n    this.movieService.sort(filter,this.curUser).subscribe(res=>{\r\n      //console.log(\"newlyFILTERED\",res);\r\n      this.curUser=res;\r\n      this.updateLists();\r\n    })\r\n  }\r\n  //settings for admin\r\n  disableUser(user : user){\r\n    user.disabled = !user.disabled;\r\n    //console.log(\"afterDISABLEUSER\",user);\r\n    this.updateUser(user);\r\n  }\r\n  updateUser(user : user){\r\n    //console.log(\"UPDATINGUSER\",user );\r\n    this.movieService.update(user).subscribe(user=>{\r\n      if(this.curUser._id == user._id){\r\n        this.curUser=user;\r\n      }\r\n      this.cd.detectChanges();\r\n    });\r\n    this.updateLists();\r\n  }\r\n\r\n  watchedView(){\r\n    document.getElementById(\"nav\")!.style.display=\"block\";\r\n    document.getElementById(\"todoPage\")!.style.display=\"none\";\r\n    document.getElementById(\"watchedPage\")!.style.display=\"block\";\r\n    document.getElementById(\"loginPage\")!.style.display=\"none\";\r\n    document.getElementById(\"detailsPage\")!.style.display=\"none\";\r\n    document.getElementById(\"settingsPage\")!.style.display=\"none\";\r\n  }\r\n  todoView(){\r\n    document.getElementById(\"nav\")!.style.display=\"block\";\r\n    document.getElementById(\"todoPage\")!.style.display=\"block\";\r\n    document.getElementById(\"watchedPage\")!.style.display=\"none\";\r\n    document.getElementById(\"loginPage\")!.style.display=\"none\";\r\n    document.getElementById(\"detailsPage\")!.style.display=\"none\";\r\n    document.getElementById(\"settingsPage\")!.style.display=\"none\";\r\n  }\r\n  loginView(){\r\n    document.getElementById(\"nav\")!.style.display=\"none\";\r\n    document.getElementById(\"todoPage\")!.style.display=\"none\";\r\n    document.getElementById(\"watchedPage\")!.style.display=\"none\";\r\n    document.getElementById(\"loginPage\")!.style.display=\"block\";\r\n    document.getElementById(\"detailsPage\")!.style.display=\"none\";\r\n    document.getElementById(\"settingsPage\")!.style.display=\"none\";\r\n  }\r\n  detailsView(){\r\n    document.getElementById(\"nav\")!.style.display=\"block\";\r\n    document.getElementById(\"todoPage\")!.style.display=\"none\";\r\n    document.getElementById(\"watchedPage\")!.style.display=\"none\";\r\n    document.getElementById(\"loginPage\")!.style.display=\"none\";\r\n    document.getElementById(\"detailsPage\")!.style.display=\"block\";\r\n    document.getElementById(\"settingsPage\")!.style.display=\"none\";\r\n\r\n  }\r\n  settingsView(){\r\n    document.getElementById(\"nav\")!.style.display=\"block\";\r\n    document.getElementById(\"todoPage\")!.style.display=\"none\";\r\n    document.getElementById(\"watchedPage\")!.style.display=\"none\";\r\n    document.getElementById(\"loginPage\")!.style.display=\"none\";\r\n    document.getElementById(\"detailsPage\")!.style.display=\"none\";\r\n    document.getElementById(\"settingsPage\")!.style.display=\"block\";\r\n  }\r\n}\r\n","<body>\r\n    <nav id=\"nav\" class=\"navbar navbar-expand-lg navbar-dark bg-dark\" style=\"margin-bottom: 11px;\">\r\n        <div class=\"container-fluid\"> \r\n            <a class=\"navbar-brand\" href=\"#\">MovieList</a>\r\n            <div class=\"collapse navbar-collapse\" id=\"profile\">\r\n            <ul class=\"navbar-nav\" style=\"position:absolute;top:5px;left:150px;margin-right:4em;\">\r\n                <li class=\"nav-item\">\r\n                    <button id=\"todoBtn\" type=\"button\" class=\"btn mb-3 btn-secondary\" (click)=\"todoView()\">Want to Watch</button>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                    <button id=\"watchedBtn\" type=\"button\" class=\"btn mb-3 btn-secondary\" (click)=\"watchedView()\">Already Watched</button>\r\n                </li>\r\n            </ul>\r\n            <ul class=\"navbar-nav\" style=\"position:absolute;top:5px;right:0;margin-right:4em;\">\r\n                <li class=\"nav-item\">\r\n                <button id=\"settingsBtn\" *ngIf=\"curUser.admin\" type=\"button\" class=\"btn mb-3 btn-secondary\" (click)=\"settingsView()\">Settings</button>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                    <button id=\"logoutBtn\" type=\"button\" class=\"btn mb-3 btn-secondary\" (click)=\"logout()\">Logout</button>\r\n                </li>\r\n            </ul>\r\n            </div>\r\n        </div>\r\n    </nav>\r\n\r\n    <form id=\"loginPage\" class=\"\">\r\n        <h3>Login</h3>                      \r\n        <div>\r\n            <div class=\"form-group mb-2\">\r\n            <label for=\"lg_userName\" class=\"sr-only\">Username</label>\r\n            <input id=\"userInput\" type=\"text\" class=\"form-control\" name=\"userName\" placeholder=\"userName\" [(ngModel)]=\"userName\">\r\n            </div>\r\n\r\n            <div class=\"form-group mb-2\">\r\n            <label for=\"lg_password\" class=\"sr-only\">Password</label>\r\n            <input id=\"passInput\" type=\"password\" class=\"form-control\" name=\"password\" placeholder=\"password\" [(ngModel)]=\"password\">        \r\n        </div>\r\n\r\n        <button type=\"submit\" (click)=\"login()\" class=\"btn btn-primary btn-sm\">Login\r\n            <i class=\"glyphicon glyphicon-chevron-right\"></i>\r\n        </button>\r\n        </div>\r\n    </form>\r\n\r\n    <div id=\"todoPage\">\r\n        <div id=\"searchbar\" class=\"search-container\">\r\n            <input type=\"text\"\r\n                [(ngModel)]=\"searchInput\" \r\n                (input)=\"onInputChange()\"\r\n                (keyup.enter)=\"onEnter()\"\r\n                (keyup.arrowDown)=\"onArrowDown()\"\r\n                (keyup.arrowUp)=\"onArrowUp()\"\r\n                placeholder=\"Search movies...\"\r\n            >\r\n            <button id=\"addBtn\" (click)=\"addWatchlist()\">Add Movie</button>\r\n        </div>\r\n        <div *ngIf=\"showDropdown\" class=\"dropdown\">\r\n            <ul>\r\n                <li \r\n                    *ngFor=\"let result of searchResults.slice(0,7); let i = index\"\r\n                    (click)=\"selectResult(result)\"\r\n                    [class.highlighted]=\"i === highlightedIndex\"\r\n                    (mouseenter)=\"highlightedIndex = i\"\r\n                    >\r\n                    {{  result.title  }} {{  result.year  }}\r\n                </li>\r\n            </ul>\r\n        </div>\r\n\r\n            \r\n        <table id=\"todoTable\" class=\"table table-striped\">\r\n            <thead>\r\n                <tr>\r\n                    <th style=\"text-align: center; font-size: xx-large;\" colspan=\"4\">Want to Watch List</th>\r\n                </tr>\r\n                <tr class=\"table-active\">\r\n                    <th scope=\"col\">Title</th>\r\n                    <th scope=\"col\"></th>\r\n                    <th scope=\"col\"></th>\r\n                    <th scope=\"col\"></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody id=\"todoRows\">\r\n\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n\r\n    <div id=\"watchedPage\">\r\n        <table id=\"watchedTable\" class=\"table table-striped\">\r\n            <thead>\r\n                <tr>\r\n                    <th style=\"text-align: center; font-size:xx-large;\" colspan=\"5\">Already Watched List</th>\r\n                </tr>\r\n                <tr class=\"table-active\">\r\n                    <th scope=\"col\">Title</th>\r\n                    <th scope=\"col\">Date Seen</th>\r\n                    <th scope=\"col\"></th>\r\n                    <th scope=\"col\"></th>\r\n                    <th scope=\"col\"></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody id=\"watchedRows\">\r\n\r\n            </tbody>\r\n        </table>\r\n        <div id=\"sortBox\">\r\n            <p>Sort By: </p>\r\n            <button id=\"titlesortBtn\" type=\"button\" class=\"sortBtn\" (click)=\"filterBy('title')\">Title</button>\r\n            <button id=\"datesortBtn\" type=\"button\" class=\"sortBtn\" (click)=\"filterBy('date')\">Date</button>\r\n            \r\n        </div>\r\n    </div>\r\n\r\n    <div id=\"detailsPage\">\r\n        <div class=\"titleBox\">\r\n            <h2 id=\"title\">Title Box</h2>\r\n        </div>\r\n        <div class=\"descriptionBox\">\r\n            <h5 id=\"description\"></h5>\r\n        </div>\r\n        <div id=\"releasedBox\">\r\n            <H4>Released on</H4>\r\n            <h5 id=\"released\"></h5>\r\n        </div>\r\n        <div id=\"watchedBox\">\r\n            <h4>Watched on</h4>\r\n            <h5 id=\"watched\"></h5>\r\n        </div>\r\n    </div>\r\n\r\n    <div id=\"settingsPage\">\r\n        <table id=\"settingsTable\" class=\"table table-striped\">\r\n            <thead>\r\n                <tr class=\"table-active\">\r\n                    <th scope=\"col\">Username</th>\r\n                    <th scope=\"col\">Enable/Disable</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody id=\"settingsRows\">\r\n\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</body>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}